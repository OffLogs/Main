@page "/dashboard/notifications/templates"
@page "/{locale}/dashboard/notifications/templates"

@using OffLogs.Web.Resources
@using OffLogs.Api.Common.Dto.Entities
@using OffLogs.Business.Extensions

@inherits BaseComponent

<RadzenCard class="m-3">

    <h2>@NotificationResources.MenuItem_MessageTemplates</h2>

    <RadzenDataGrid
        TItem="MessageTemplateDto"
        @ref="_grid"
        AllowSorting="false"

        SelectionMode="DataGridSelectionMode.Single"
        Data="@State.Value.MessageTemplates"
        AllowPaging="true"
        IsLoading="@State.Value.IsLoading"
        ValueChanged="OnTemplateSelected"
        ShowPagingSummary="false">

        <Columns>
            <RadzenDataGridColumn TItem="MessageTemplateDto" Property="Id" Title="ID"/>
            <RadzenDataGridColumn TItem="MessageTemplateDto" Property="Subject" Title="Subject">
                <Template Context="template">
                    @template.Subject.Truncate(32)
                </Template>
            </RadzenDataGridColumn>
            <RadzenDataGridColumn TItem="MessageTemplateDto" Property="Body" Title="Body">
                <Template Context="template">
                    @template.Body.Truncate(32)
                </Template>
            </RadzenDataGridColumn>
        </Columns>
    </RadzenDataGrid>

</RadzenCard>
