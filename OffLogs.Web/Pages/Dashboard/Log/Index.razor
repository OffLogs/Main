@page "/dashboard/logs"
@using OffLogs.Web.Pages.Dashboard.Log.Parts
@using OffLogs.Web.Resources
@using OffLogs.Web.Shared.Ui.NavigationLayout

@inherits BaseComponent

<NavigationLayout
    MenuTitle="@LogResources.PageTitle"
    MenuItems="@_menuItems"
    ListItems="@_logsList"
    BodyButtons="@_menuButtons"
    OnSelectMenuItem="@OnApplicationSelected"
    OnSelectListItem="async (menuEvent) => await OnSelectLogAsync(menuEvent)"
    IsShowMoreBtn="@State.Value.HasMoreItems"
    OnClickMoreBtn="async () => await OnClickMoreBtnAsync()"
    IsReadOnly="@State.Value.IsLoadingList"
>
    <BodyContent>
        @if (State.Value.SelectedLog != null)
        {
            <LogInfoBlock LogId="@State.Value.SelectedLog.Id"/>    
        }
    </BodyContent>
</NavigationLayout>

@if (_selectedApplicationId != null)
{
    <OffLogs.Web.Shared.Components.LogStatisticChart ApplicationId="_selectedApplicationId.Value"/>
}
