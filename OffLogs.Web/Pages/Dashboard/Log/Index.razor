@page "/dashboard/logs"
@page "/{locale}/dashboard/logs"

@using OffLogs.Web.Pages.Dashboard.Log.Parts
@using OffLogs.Web.Resources
@using OffLogs.Web.Shared.Ui.NavigationLayout

@inherits BaseComponent

<NavigationLayout
    MenuTitle="@LogResources.PageTitle"
    MenuItems="@_menuItems"
    ListItems="@_logsList"
    BodyButtons="@_menuButtons"
    OnSelectMenuItem="@OnApplicationSelected"
    OnSelectListItem="async (menuEvent) => await OnSelectLogAsync(menuEvent)"
    IsShowMoreBtn="@State.Value.HasMoreItems"
    IsListLoading="@State.Value.IsLoadingList"
    OnClickMoreBtn="async () => await OnClickMoreBtnAsync()"
    IsReadOnly="@State.Value.IsLoadingList"
>
    <BodyContent>
        @if (State.Value.SelectedLog != null)
        {
            <LogInfoBlock LogId="@State.Value.SelectedLog.Id"/>    
        }
    </BodyContent>
</NavigationLayout>

<LogStatisticModal
    IsShowModal="@_isShowStatistic"
    ApplicationId="@_selectedApplicationId"
    OnClose="@(() => _isShowStatistic = false)"
/>
